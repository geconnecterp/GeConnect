@model CargarObligacionesOCreditosPaso2Model
@using static gc.infraestructura.Helpers.GridHelper
@{
}
<style>
	fieldset {
	margin: 8px;
	border: 1px solid silver;
	padding: 8px;
	border-radius: 4px;
	max-width: 100%;
	margin-top: 8px;
	margin-left: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	}

	legend {
	padding: 2px;
	margin-top: -22px;
	background: #f3f5f7 !important;
	width: 25%;
	text-align: center;
	font-size: small;
	}
</style>
<div class="row mt-2">
	<div class="col-md-5">
		<div class="input-group input-group-sm mt-1" id="divProveedorSeleccionado">
			<span class="input-group-text fixed-lbl-for-abm-70">Cuenta: </span>
			<input type="text" id="CtaID" class="form-control" style="max-width: 100px;text-align: right;" disabled />
			<input type="text" id="CtaDesc" class="form-control" disabled />
		</div>
	</div>
	<div class="col-md-7">
		<div class="input-group input-group-sm mt-1">
			<span class="input-group-text fixed-lbl-for-abm-100" title="Obligaciones a Cancelar">Obl. a Cancelar: </span>
			<input type="text" id="txtObligACancelar" class="form-control align-right" style="background-color: red; color: white;" value="0" disabled />
			<span class="input-group-text fixed-lbl-for-abm-150" title="Créditos y Valores Imputados">Cred. y Val. Imputados: </span>
			<input type="text" id="txtCredYValImputados" class="form-control align-right" style="background-color: dodgerblue; color: white;" value="0" disabled />
			<span class="input-group-text fixed-lbl-for-abm-100">Diferencia: </span>
			<input type="text" id="txtDiferencias" class="form-control align-right" style="background-color: forestgreen; color: white;" value="0" disabled />
		</div>
	</div>
</div>
<div class="row mt-2">
	<div class="col-6">
		<fieldset>
			<legend>Obligaciones</legend>
			<div class="row" id="divObligacionesParaAgregar">
				<div class="table-responsive table-wrapper-200-full-width" id="containerListaObligacionesParaAgregar_Paso2">
					<table class="table table-bordered table-hover" id="tbListaObligacionesParaAgregar_Paso2">
						<thead class="table-dark">
							<tr>
								<th style="width:40%;" class="col-header-small align-center tiny-row">Comprobante</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Cuota</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Vencimiento</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Importe</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Imputado</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">dia_movi</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">cm_compte</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">tco_id</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">cta_id</th>
							</tr>
						</thead>
						<tbody>
							@if (Model.GrillaObligacionesNuevas != null && Model.GrillaObligacionesNuevas.ListaDatos != null && Model.GrillaObligacionesNuevas.ListaDatos.Count > 0)
							{
								@foreach (var item in Model.GrillaObligacionesNuevas.ListaDatos)
								{
									<tr onclick="selectReg(this, 'tbListaObligacionesParaAgregar_Paso2')" ondblclick="selectRegDbl(this, 'tbListaObligacionesParaAgregar_Paso2')">
										<td class="@Model.GrillaObligacionesNuevas.ObtenerClase(item.tco_desc)">@Model.GrillaObligacionesNuevas.FormatearDato(item.tco_desc, FormatDato.Ninguno)</td>
										<td class="@Model.GrillaObligacionesNuevas.ObtenerClase(item.cm_compte_cuota)">@Model.GrillaObligacionesNuevas.FormatearDato(item.cm_compte_cuota, FormatDato.Ninguno)</td>
										<td class="@Model.GrillaObligacionesNuevas.ObtenerClase(item.cv_fecha_vto)">@Model.GrillaObligacionesNuevas.FormatearDato(item.cv_fecha_vto, FormatDato.Fecha)</td>
										<td class="@Model.GrillaObligacionesNuevas.ObtenerClase(item.cv_importe)">@Model.GrillaObligacionesNuevas.FormatearDato(item.cv_importe, FormatDato.Monto)</td>
										<td class="@Model.GrillaObligacionesNuevas.ObtenerClase(item.cv_imputado)">@Model.GrillaObligacionesNuevas.FormatearDato(item.cv_imputado, FormatDato.Monto)</td>
										<td style="display:none;">@item.dia_movi</td>
										<td style="display:none;">@item.cm_compte</td>
										<td style="display:none;">@item.tco_id</td>
										<td style="display:none;">@item.cta_id</td>
									</tr>
								}
							}
						</tbody>
					</table>
				</div>
			</div>
			<div class="row justify-content-sm-center mb-1">
				<div class="col-md-2">
					<div class="d-flex justify-content-sm-center">
						<button id="btnAnterior2" class="btn btn-success btn-sm mt-1 me-1" type="button" title="Anterior">
							<i class="bx bx-arrow-to-left bx-xs"></i>
						</button>
						<button id="btnConfirmar2" class="btn btn-primary btn-sm mt-1 me-1" type="button" title="Confirmar" disabled>
							<i class="bx bx-check-circle bx-xs"></i>
						</button>
					</div>
				</div>
			</div>
			<div class="row" id="divSeccionPagos">
				<div>
					@if (Model.EsPagoAnticipado)
					{
						<div class="row mt-1 mb-1">
							<div class="input-group input-group-sm">
								<span class="input-group-text fixed-lbl-for-abm-100">Pago Anticipado:</span>
								<input type="text" id="txtPagoAnticipado" class="form-control activable inputEditable" />
							</div>
						</div>
					}
					<div class="row mt-1 mb-1">
						<div class="input-group input-group-sm">
							<span class="input-group-text fixed-lbl-for-abm-100">Observaciones:</span>
							<input type="text" id="txtObservaciones" class="form-control activable inputEditable" />
						</div>
					</div>
				</div>
				<div class="row" id="divSeccionPagosGrilla">
					<div class="col-1">
						<button id="btnAgregarConceptoFacturado" class="btn btn-success btn-sm" type="button" title="Agregar">
							<i class="bx bx-plus bx-xs"></i>
						</button>
					</div>
					<div class="col-11 table-responsive table-wrapper-100-full" id="containerSeccionPagosGrilla_Paso2" style="padding-right: 0px;">
						<table class="table table-bordered table-hover" id="tbListaMedioDePago_Paso2">
							<thead class="table-dark">
								<tr>
									<th style="width:100%;" class="col-header-small align-center tiny-row">Medios de Pagos</th>
								</tr>
							</thead>
							<tbody>
								@if (Model.GrillaMedioDePago != null && Model.GrillaMedioDePago.ListaDatos != null && Model.GrillaMedioDePago.ListaDatos.Count > 0)
								{
									@foreach (var item in Model.GrillaMedioDePago.ListaDatos)
									{
										<tr onclick="selectReg(this, 'tbListaMedioDePago_Paso2')" ondblclick="selectRegDbl(this, 'tbListaMedioDePago_Paso2')">
											<td class="@Model.GrillaMedioDePago.ObtenerClase(item.medioDePagoNombre)">@Model.GrillaMedioDePago.FormatearDato(item.medioDePagoNombre, FormatDato.Ninguno)</td>
										</tr>
									}
								}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</fieldset>
	</div>
	<div class="col-6">
		<fieldset>
			<legend>Créditos y Valores</legend>
			<div class="row" id="divCreditosParaAgregar">
				<div class="table-responsive table-wrapper-200-full-width" id="containerListaCreditosParaAgregar_Paso2">
					<table class="table table-bordered table-hover" id="tbListaCreditosParaAgregar_Paso2">
						<thead class="table-dark">
							<tr>
								<th style="width:55%;" class="col-header-small align-center tiny-row">Comprobante</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Cuota</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Vencimiento</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Importe</th>
								<th style="width:15%;" class="col-header-small align-center tiny-row">Imputado</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">dia_movi</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">cm_compte</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">tco_id</th>
								<th style="width:0%;display:none;" class="col-header-small align-center tiny-row">cta_id</th>
							</tr>
						</thead>
						<tbody>
							@if (Model.GrillaCreditosNueva != null && Model.GrillaCreditosNueva.ListaDatos != null && Model.GrillaCreditosNueva.ListaDatos.Count > 0)
							{
								@foreach (var item in Model.GrillaCreditosNueva.ListaDatos)
								{
									<tr onclick="selectReg(this, 'tbListaCreditosParaAgregar_Paso2')" ondblclick="selectRegDbl(this, 'tbListaCreditosParaAgregar_Paso2')">
										<td class="@Model.GrillaCreditosNueva.ObtenerClase(item.tco_desc)">@Model.GrillaCreditosNueva.FormatearDato(item.tco_desc, FormatDato.Ninguno)</td>
										<td class="@Model.GrillaCreditosNueva.ObtenerClase(item.cm_compte_cuota)">@Model.GrillaCreditosNueva.FormatearDato(item.cm_compte_cuota, FormatDato.Ninguno)</td>
										<td class="@Model.GrillaCreditosNueva.ObtenerClase(item.cv_fecha_vto)">@Model.GrillaCreditosNueva.FormatearDato(item.cv_fecha_vto, FormatDato.Fecha)</td>
										<td class="@Model.GrillaCreditosNueva.ObtenerClase(item.cv_importe)">@Model.GrillaCreditosNueva.FormatearDato(item.cv_importe, FormatDato.Monto)</td>
										<td class="@Model.GrillaCreditosNueva.ObtenerClase(item.cv_imputado)">@Model.GrillaCreditosNueva.FormatearDato(item.cv_imputado, FormatDato.Monto)</td>
										<td style="display:none;">@item.dia_movi</td>
										<td style="display:none;">@item.cm_compte</td>
										<td style="display:none;">@item.tco_id</td>
										<td style="display:none;">@item.cta_id</td>
									</tr>
								}
							}
						</tbody>
					</table>
				</div>
			</div>
			<div class="row" id="divRetenciones">
				<div class="table-responsive table-wrapper-100-full" id="containerRetenciones_Paso2">
					<table class="table table-bordered table-hover" id="tbListaRetenciones_Paso2">
						<thead class="table-dark">
							<tr>
								<th style="width:75%;" class="col-header-small align-center tiny-row">Retenciones</th>
								<th style="width:25%;" class="col-header-small align-center tiny-row">Importes</th>
							</tr>
						</thead>
						<tbody>
							@if (Model.GrillaRetenciones != null && Model.GrillaRetenciones.ListaDatos != null && Model.GrillaRetenciones.ListaDatos.Count > 0)
							{
								@foreach (var item in Model.GrillaRetenciones.ListaDatos)
								{
									<tr onclick="selectReg(this, 'tbListaRetenciones_Paso2')" ondblclick="selectRegDbl(this, 'tbListaRetenciones_Paso2')">
										<td class="@Model.GrillaRetenciones.ObtenerClase(item.concepto_retencion)">@Model.GrillaRetenciones.FormatearDato(item.concepto_retencion, FormatDato.Ninguno)</td>
										<td class="@Model.GrillaRetenciones.ObtenerClase(item.retencion)">@Model.GrillaRetenciones.FormatearDato(item.retencion, FormatDato.Monto)</td>
									</tr>
								}
							}
						</tbody>
					</table>
				</div>
			</div>
			<div class="row" id="divValores">
				<div class="table-responsive table-wrapper-100-full" id="containerValores_Paso2">
					<table class="table table-bordered table-hover" id="tbListaValores_Paso2">
						<thead class="table-dark">
							<tr>
								<th style="width:50%;" class="col-header-small align-center tiny-row">Cuenta Financiera</th>
								<th style="width:25%;" class="col-header-small align-center tiny-row">Valor</th>
								<th style="width:25%;" class="col-header-small align-center tiny-row">Importe</th>
							</tr>
						</thead>
						<tbody>
							@if (Model.GrillaValores != null && Model.GrillaValores.ListaDatos != null && Model.GrillaValores.ListaDatos.Count > 0)
							{
								@foreach (var item in Model.GrillaValores.ListaDatos)
								{
									<tr onclick="selectReg(this, 'tbListaValores_Paso2')" ondblclick="selectRegDbl(this, 'tbListaValores_Paso2')">
										<td class="@Model.GrillaValores.ObtenerClase(item.ctaf_denominacion)">@Model.GrillaValores.FormatearDato(item.ctaf_denominacion, FormatDato.Ninguno)</td>
										<td class="@Model.GrillaValores.ObtenerClase(item.concepto_valor)">@Model.GrillaValores.FormatearDato(item.concepto_valor, FormatDato.Monto)</td>
										<td class="@Model.GrillaValores.ObtenerClase(item.op_importe)">@Model.GrillaValores.FormatearDato(item.op_importe, FormatDato.Monto)</td>
									</tr>
								}
							}
						</tbody>
					</table>
				</div>
			</div>
		</fieldset>
	</div>
</div>